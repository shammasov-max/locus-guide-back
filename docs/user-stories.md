Мультиязычное приложение аудиогида (iPhone, Android)

# **Приоритизированный список пользовательских историй для аудиогида**

## **MVP \- Критический приоритет (Release 1.0)** 

### **Базовая функциональность (Must Have)**

**US-001:** Как пользователь, я хочу видеть список доступных городов и количеством маршрутов, чтобы выбрать интересующий меня город для изучения.

**US-002:** Как пользователь, я хочу, чтобы приложение автоматически определяло мое местоположение и показывало ближайшие маршруты в определенном городе, чтобы найти актуальные варианты.

**US-003:** Как пользователь, я хочу видеть карточки маршрутов с названием, продолжительностью (2.5-3 часа), высотой подъемов и спусков (60м стрелка вверх, 80м стрелка вниз), языком (с возможностью выбрать другой), степенью прохождения (посмотреть, пройден, в процессе), ценой ($3.98, приобретен, free, доступен), чтобы выбрать подходящий маршрут.

**US-004:** Как пользователь, при нажатии на маршрут из списка, я хочу видеть все точки маршрута на карте, подогнанной под охват маршрута, иметь возможность прокликать по точкам и послушать доступные аудиозаписи, на тех точках, на которых нет ограничения на прослушивания до покупки, чтобы принять решение о покупке.

**US-005-FE:** Как пользователь, я хочу видеть свое местоположение на карте маршрута в реальном времени с направлением движения, чтобы ориентироваться.

**US-006-FE:** Как пользователь, я хочу ходить по маршруту с выключенным телефоном, чтобы аудиозаписи при этом включались автоматически при достижении точки маршрута

**US-007-FE:** Как пользователь, я хочу управлять воспроизведением аудио (пауза, перемотка ±15сек, повтор фрагмента), чтобы контролировать темп экскурсии.

**US-008-FE:** Как пользователь, я хочу видеть прогресс-бар аудиозаписи с возможностью перехода к любому моменту, чтобы переслушивать интересные части, если я отвлекся.

**US-009-FE:** Как пользователь, я хочу, чтобы язык интерфейса и аудио был по умолчанию тем, который стоит у меня в системе, чтобы не тратить время на выбор языков

**US-010:** Как пользователь, я хочу иметь возможность выбрать язык интерфейса и язык аудио из 10+ популярных языков, чтобы использовать приложение комфортно.

**US-011-FE:** Как пользователь, я хочу слышать навигационные подсказки с указанием направления и расстояния ("поверните налево обойдя фонтан к красному зданию"), плавно прерывающие текущий голос, и продолжающими его с того же момента двумя секундами раньше, после проигрывания подсказки, чтобы не потеряться в режиме выключенного экрана.

**US-011b-FE:** Как пользователь я хочу, чтобы проигрывание аудиофайлов было по определенным правилам, чтобы не пропускать точки. Например если мы сейчас в режиме проигрывания одной точки и перешли по GPS в другую, то параллельно проигрывался бы короткий звуковой файл meetsound.mp3 (одинаковый для всех точек), чтобы я понимал что мы уже вошли в другую зону и стоит притормозить. Если закончит проигрываться прошлая зона, то начинать проигрывать ту, в которую мы ранее вошли (даже если мы уже удалились от нее). Но если пока проигрывается аудио первой зоны мы вышли из второй и перешли в третью, то после завершения первой, нужно чтобы проигрывалась третья, а вторая останеться непройденной, но отмеченной в базе, что мы там были по GPS (чтобы если прослушаем эту точку вручную, отметилось, что мы полностью прошли эту зону по gps)

**US-011c-FE:** Как пользователь я хочу, чтобы точка сильно опережающая маршрут c отличающимся number более чем на 5  от текущего не проигрывалась, даже если мы попали в её зону, но при этом не отклонялись от линии маршрута (но мы отмечаем, что попали в зону), это характерно для пересекающихся маршрутов, или когда обратные точки находятся например на другой стороне улицы, а GPS не срабатывает идеально точно, а срабатывает ложно, чтобы маршрут проигрывался последовательно.

**US-011d-FE:** Как пользователь я хочу, чтобы автопроигрывание по GPS прекратилось (и GPS отключился), если я нажму на паузу и возобновилось при нажатии Play. Если же мы вышли из текущей точки не отжимая паузу, то GPS включается. Это нужно для того, чтобы можно было передохнуть.

**US-011e-FE:** Как пользователь я хочу чтобы на экране маршрута было понятно включен ли режим автопроигрывания с включенным GPS или выключен с возможностью включить/выключить, чтобы не переживать за батарейку. (идея, возможно с включенным GPS появляется персонаж кошки на экране, без GPS нет.

**US-011f:** Как пользователь я хочу чтобы при входе в маршрут и/или старте маршрута включался режим автопроигрывания с включенным GPS а при выходе в выбор маршрутов выключался, чтобы не переживать за батарейку

**US-011g:** Как пользователь, хочу чтобы кошка смотрела по направлению верхней части телефона, чтобы понимать куда мы смотрим и иметь возможность ориентироваться на местности

**US-011h:** Как пользователь, хочу чтобы кошка шла (работала анимация ходьбы) по направлению движения, чтобы ассоциировать кошку с игровым гидом

**US-011i:** Как пользователь я хочу в любой момент менять персонажа для прохождения карты, чтобы выбрать мужского или женского, и других в будущем, для того, чтобы ассоциировать себя с игровым персонажем

**US-011j:** Как пользователь я в настройках хочу выбрать метрическую систему мили или километры, чтобы расстояния пересчитывались в нужной мне метрике

**US-012a:** Как пользователь я хочу в списке скаченных офлайн маршрутов/карт управлять кешем, чтобы иметь возможность освобождать место на телефоне, удаленные офлайн карты, как удаленные ранее купленные приложения на iphone можно скачать. 

**US-012b:** Как пользователь, я хочу в фильтрах верхней полоски видеть маршруты Near Me, Purchased, Wished (на которые я поставил лайк), Wanted (которых не было, но я подписался на эти города), Downloaded (чтобы очищать кеш или быстро находить офлайн) для того чтобы быстро выбрать что я хочу

**US-012b:** Как пользователь, я хочу чтобы на экране старта телефона (там где выскакивают уведомления), видно было проигрывание звука, чтобы можно было не заходя в приложение запускать и останавливать маршрут (это по умолчанию в iphone на проигрывание звука)

**US-012с:** Как пользователь, я хочу видеть на маршруте точки разных цветов и с номерами, чтобы понимать статус прохождения каждой точки и видеть свой прогресс.

#### **Подзадачи US-012с (Acceptance Criteria):**

1. **Точка старта и финиша:**

   * Как пользователь, я вижу первую точку маршрута с пометкой "Старт" и последнюю — с пометкой "Финиш", чтобы всегда понимать, где начало и конец маршрута.

2. **Порядковый номер:**

   * Как пользователь, я вижу в каждой точке маршрутный номер, чтобы понимать последовательность прохождения.

3. **Цветовые статусы точек:**

   * Как пользователь, я вижу:

     * **Фиолетовые точки** — ещё не пройдённые мной (я не был там по GPS и не запускал аудио вручную).

     * **Зелёные точки** — автоматически запущенные и полностью прослушанные, когда я оказался в их GPS-зоне (включая случаи с паузами).

     * **Синие точки** — те, которые я запустил вручную (без GPS-нахождения в точке) и не дослушал аудио до конца.

     * **Оранжевые точки** — я прослушал аудио вручную до конца, но не был по GPS в этой точке (зона не была отмечена как пройденная).

4. **Изменение цвета линии маршрута:**

   * Как пользователь, я вижу, что линия маршрута между точками меняет свой цвет на цвет прослушанной точки, если:

     * Эта точка полностью прослушана (любой способ).

     * Предыдущая по номеру точка не является фиолетовой (то есть уже была начата или пройдена).

### **Монетизация MVP**

**US-013a:** Как пользователь, я хочу использовать модель с доступом к 4-10 бесплатным точкам на каждом маршруте в городе, чтобы пробовать сервис без обязательств.

**US-013b:** Как пользователь, я хочу покупать отдельные маршруты с нужным мне языком по цене от $3 до $8 при помощи inline покупок, чтобы платить только за нужное.

### **Юридические моменты**

**US-014-FE:** Как пользователь хочу получить доступ из приложения к Term of use, и Private policy чтобы понимать правовые аспекты использования приложения.

**US-015:** Как пользователь, я хочу иметь быструю безшовную авторизацию в сервисе на базе сервиса моего store. (Google, Apple, email/пароль) при запуске приложения, чтобы не терять свои покупки при смене телефона

### **Изучение спроса (маркетинг)**

**US-016-FE:** Как маркетолог, я хочу чтобы у пользователя создалась иллюзия, что контента в приложении много и он видел наименования других маршрутов в 1000 разных городов, но при этом при нажатии на маршрут чтобы была надпись, что маршрут в разработке и выйдет в ближайшее время, возможность нажать на кнопку \- подписаться на уведомление о выпуске маршрута, поскольку в основном реклама будет таргетироваться на те города где есть маршруты, чтобы после их прохождения пользователь не удалял приложение, а создатели контента понимали в какой стране будет востребован контент.

**US-017-LA:** Как продакт-менеджер, я хочу видеть детальную аналитику пользовательского поведения (время в точках, популярные переходы, места выхода из маршрутов), на какие пункты меню пользователь жмет в приложении,  чтобы улучшать продукт при помощи передачи всех действий пользователя в FireBase.

**US-017b-FE:** Как маркетолог я хочу, чтобы при первом запуске нашего мобильного приложения параметр `click_id` и UTM-метки из рекламной ссылки автоматически захватывались и сохранялись вместе с пользовательским идентификатором  используя Firebase Dynamic Links SDK (Deferred Deep Link) чтобы мы могли точно атрибутировать каждую установку к конкретной рекламной кампании Instagram/Tik-toc и анализировать её эффективность

**US-018-FE:** Как пользователь, я хочу чтобы юзабилити было на таком уровне, чтобы я даже не задумывался, что что-то неудобно


### **Создание контента**

**US-019:** Как создатель контента, я хочу использовать drag-and-drop конструктор маршрутов на интерактивной карте в вебе с возможностью предварительного просмотра, чтобы легко создавать и сохранять на сервер качественный контент и истории.

**US-020:** Как создатель контента, я хочу тестировать маршрут в режиме симуляции перед публикацией, чтобы проверить логику переходов и качество навигации.

**US-021:** Как создатель контента, публикуя обновление маршрута, я хочу , что бы пользователи запустившие маршрут до обновления, использовали контент на момент запуска маршрута на своём устройстве. Пройти обновленную версию маршрута и послушать обновлённые аудио-записи - пользователь сможет только после завершения маршрута.

### **Базовая геймификация, рассчитанная на удержание**

**US-025:** Как пользователь, я хочу получать достижение "Первые шаги" за завершение по GPS первого маршрута, чтобы почувствовать начало путешествия.

**US-026:** Как пользователь, я хочу получать достижения за количество маршрутов пройденных более чем на 90%: "Любопытный" (5), "Исследователь" (15), "Путешественник" (30), "Номад" (50), "Легенда дорог" (100).

**US-027:** Как пользователь, я хочу получать достижения за города: "Турист" (3 города), "Космополит" (10 городов), "Гражданин мира" (25 городов), "Коллекционер городов" (50 городов).

**US-028:** Как пользователь я хочу получать достижения за прохождения абсолютно всех точек на маршруте (Придумать) 

### **Изучение спроса (маркетинг)**

**US-030:** Я как пользователь хочу получать push и email уведомления, чтобы получать информацию о тех маршрутах, на которые я подписался, когда они отсутствовали, чтобы знать что появляется новый контент

## **Новые пользовательские истории**

**US-031:** Как администратор, я хочу управлять правами на создание маршрутов (просматривать список редакторов, назначать/снимать права по email, переходить к их маршрутам), чтобы контролировать доступ в одном месте.

**US-033:** Как редактор маршрутов, я хочу доступ к read-only образцу маршрута, чтобы изучать лучшие практики создания контента.

**US-034:** Как редактор маршрутов, я хочу автоматический бесплатный доступ к созданным/изменённым мной маршрутам, чтобы тестировать контент в приложении.

**US-036:** Как пользователь, я хочу, чтобы прогресс по маршруту синхронизировался между устройствами (online/offline) и всегда привязывался к версии маршрута, с которой я начал, чтобы продолжить с любого устройства без потери данных.

**US-037:** Как редактор контента, я хочу исправлять опечатки в опубликованных маршрутах без версионирования (видно всем), но получать предупреждение при структурных изменениях (создаётся draft-версия), чтобы понимать влияние на активных пользователей.

**US-039:** Как контент-менеджер, я хочу публиковать новые языки маршрута только при полной готовности (аудио + перевод), чтобы избежать показа неполного контента пользователям.

**US-040:** Как редактор контента, я хочу загружать и заменять аудиофайлы для чекпоинтов (по одному или пакетно), чтобы наполнять маршруты аудио-контентом.

#### Acceptance Criteria (US-040):
1. Upload: POST аудио (MP3/M4A, до 50MB) для checkpoint + language
2. Batch: паттерн `{seq_no}_{lang}.mp3`, автоматический matching, manual fallback для unmatched
3. In-place update для published маршрутов (BR-004)

**US-041:** Как редактор контента, я хочу указывать проектируемые языки маршрута и отмечать готовые к публикации, чтобы пользователи видели только полностью готовые языковые версии.

#### Acceptance Criteria (US-041):
1. Редактор управляет `languages: {lang: bool}` — true = ready для публикации
2. Валидация ready: 100% checkpoints имеют audio для языка (BR-016)
3. При публикации маршрута пользователям доступны только языки с `languages[lang] = true`